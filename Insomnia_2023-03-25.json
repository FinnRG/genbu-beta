{"_type":"export","__export_format":4,"__export_date":"2023-03-25T23:00:11.750Z","__export_source":"insomnia.desktop.app:v2022.7.3","resources":[{"_id":"req_44f4fac5059e4ed4a5800052a0b96937","parentId":"wrk_c050f4dfdcb74637973cc788a6686c3d","modified":1679697692341,"created":1679697676172,"url":"{{ _.base_url }}/wopi/files/","name":"New Request","description":"","method":"GET","body":{},"parameters":[],"headers":[],"authentication":{},"metaSortKey":-1679697676172,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"wrk_c050f4dfdcb74637973cc788a6686c3d","parentId":null,"modified":1679693334455,"created":1679693327422,"name":"genbu-server 0.1.0","description":"","scope":"collection","_type":"workspace"},{"_id":"req_wrk_c050f4dfdcb74637973cc788a6686c3d33c49b57","parentId":"wrk_c050f4dfdcb74637973cc788a6686c3d","modified":1679693334452,"created":1679693334452,"url":"{{ base_url }}/api/files/download","name":"/api/files/download","description":"","method":"GET","body":{},"parameters":[{"name":"file_path","disabled":false,"value":"string"},{"name":"bucket","disabled":false,"value":"string"}],"headers":[],"authentication":{"type":"apikey","key":"Token","value":"{{ token }}","addTo":"cookie"},"metaSortKey":-1679693334452,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_wrk_c050f4dfdcb74637973cc788a6686c3ddc3c55d1","parentId":"wrk_c050f4dfdcb74637973cc788a6686c3d","modified":1679693334451,"created":1679693334451,"url":"{{ base_url }}/api/files/upload","name":"/api/files/upload","description":"","method":"POST","body":{"mimeType":"application/json","text":"{\n  \"name\": \"string\",\n  \"size\": 0\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json"}],"authentication":{"type":"apikey","key":"Token","value":"{{ token }}","addTo":"cookie"},"metaSortKey":-1679693334451,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_wrk_c050f4dfdcb74637973cc788a6686c3d8cd9002f","parentId":"wrk_c050f4dfdcb74637973cc788a6686c3d","modified":1679693334451,"created":1679693334451,"url":"{{ base_url }}/api/files/upload/finish","name":"/api/files/upload/finish","description":"","method":"POST","body":{"mimeType":"application/json","text":"{\n  \"lease_id\": \"string\",\n  \"parts\": [\n    {\n      \"e_tag\": \"string\",\n      \"part_number\": 0\n    }\n  ],\n  \"upload_id\": \"string\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json"}],"authentication":{"type":"apikey","key":"Token","value":"{{ token }}","addTo":"cookie"},"metaSortKey":-1679693334451,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_wrk_c050f4dfdcb74637973cc788a6686c3d421e638e","parentId":"wrk_c050f4dfdcb74637973cc788a6686c3d","modified":1679693334450,"created":1679693334450,"url":"{{ base_url }}/api/filesystem","name":"/api/filesystem","description":"","method":"DELETE","body":{},"parameters":[{"name":"path","disabled":false,"value":"string"}],"headers":[],"authentication":{"type":"apikey","key":"Token","value":"{{ token }}","addTo":"cookie"},"metaSortKey":-1679693334450,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_wrk_c050f4dfdcb74637973cc788a6686c3df0d24922","parentId":"wrk_c050f4dfdcb74637973cc788a6686c3d","modified":1679697581516,"created":1679693334449,"url":"{{ base_url }}/filesystem","name":"/api/filesystem","description":"","method":"GET","body":{},"parameters":[{"name":"base_path","disabled":false,"value":"","id":"pair_4ab29f46d5f74d248ff8d6802d919cd3"}],"headers":[],"authentication":{"type":"apikey","key":"Token","value":"{{ token }}","addTo":"cookie"},"metaSortKey":-1679693334449,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_wrk_c050f4dfdcb74637973cc788a6686c3d2736fab2","parentId":"wrk_c050f4dfdcb74637973cc788a6686c3d","modified":1679695049723,"created":1679693334448,"url":"{{ base_url }}/login","name":"/api/login","description":"","method":"POST","body":{"mimeType":"application/json","text":"{\n  \"email\": \"string\",\n  \"password\": \"string\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json"}],"authentication":{"type":"apikey","key":"Token","value":"{{ token }}","addTo":"cookie"},"metaSortKey":-1679693334448,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_wrk_c050f4dfdcb74637973cc788a6686c3d13a2828b","parentId":"wrk_c050f4dfdcb74637973cc788a6686c3d","modified":1679694561345,"created":1679693334446,"url":"{{ base_url }}/register","name":"/api/register","description":"","method":"POST","body":{"mimeType":"application/json","text":"{\n  \"email\": \"string\",\n  \"name\": \"string\",\n  \"password\": \"string\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json"}],"authentication":{"type":"apikey","key":"Token","value":"{{ token }}","addTo":"cookie","disabled":false},"metaSortKey":-1679693334446,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_wrk_c050f4dfdcb74637973cc788a6686c3dbdaf23d2","parentId":"wrk_c050f4dfdcb74637973cc788a6686c3d","modified":1679694572318,"created":1679693334444,"url":"{{ base_url }}/user","name":"/api/user","description":"","method":"POST","body":{"mimeType":"application/json","text":"{\n  \"email\": \"string\",\n  \"name\": \"string\",\n  \"password\": \"string\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json"}],"authentication":{"type":"apikey","key":"Token","value":"{{ token }}","addTo":"cookie"},"metaSortKey":-1679693334444,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_wrk_c050f4dfdcb74637973cc788a6686c3d292a27bf","parentId":"wrk_c050f4dfdcb74637973cc788a6686c3d","modified":1679694982669,"created":1679693334443,"url":"{{ base_url }}/user/all","name":"/api/user/all","description":"","method":"GET","body":{},"parameters":[],"headers":[],"authentication":{"type":"apikey","key":"Token","value":"{{ token }}","addTo":"cookie","disabled":false},"metaSortKey":-1679693334443,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_wrk_c050f4dfdcb74637973cc788a6686c3d25e6c06f","parentId":"wrk_c050f4dfdcb74637973cc788a6686c3d","modified":1679694551597,"created":1679693334435,"url":"{{ base_url }}/user/{% response 'body', 'req_wrk_c050f4dfdcb74637973cc788a6686c3d2736fab2', 'b64::JC5pZA==::46b', 'never', 60 %}","name":"/api/user/{id}","description":"","method":"DELETE","body":{},"parameters":[],"headers":[],"authentication":{"type":"apikey","key":"Token","value":"{{ token }}","addTo":"cookie"},"metaSortKey":-1679693334435,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_wrk_c050f4dfdcb74637973cc788a6686c3da4606e02","parentId":"wrk_c050f4dfdcb74637973cc788a6686c3d","modified":1679694539195,"created":1679693334423,"url":"{{ base_url }}/user/{% response 'body', 'req_wrk_c050f4dfdcb74637973cc788a6686c3d2736fab2', 'b64::JC5pZA==::46b', 'never', 60 %}","name":"/api/user/{id}","description":"","method":"GET","body":{},"parameters":[],"headers":[],"authentication":{"type":"apikey","key":"Token","value":"{{ token }}","addTo":"cookie","disabled":false},"metaSortKey":-1679693334423,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"env_034f3b86f48226ebbfaef5f30e7ff57f57176f0f","parentId":"wrk_c050f4dfdcb74637973cc788a6686c3d","modified":1679693334454,"created":1679693327425,"name":"Base environment","data":{"base_url":"{{ scheme }}://{{ host }}{{ base_path }}"},"dataPropertyOrder":null,"color":null,"isPrivate":false,"metaSortKey":1679693327425,"_type":"environment"},{"_id":"jar_034f3b86f48226ebbfaef5f30e7ff57f57176f0f","parentId":"wrk_c050f4dfdcb74637973cc788a6686c3d","modified":1679695074617,"created":1679693327427,"name":"Default Jar","cookies":[{"key":"Token","value":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJlNjRmNzE4OC1lYTNhLTQ5ZmUtYWJiZS05YzQwYmZhNjZiMWQiLCJleHAiOjE2Nzk3MTY2NzR9.0dvhO-mylxtmb8w7YYrZyhxpQRlvV5twyYAw-vvRZd8","expires":"2023-03-25T21:57:54.000Z","domain":"localhost","path":"/api","httpOnly":true,"extensions":["SameSite=Strict"],"hostOnly":true,"pathIsDefault":true,"creation":"2023-03-24T21:33:17.032Z","lastAccessed":"2023-03-24T21:57:54.617Z","id":"4020567675320945"}],"_type":"cookie_jar"},{"_id":"spc_4fb8b9cedbdd4e049b8f20de9d0b1683","parentId":"wrk_c050f4dfdcb74637973cc788a6686c3d","modified":1679693334456,"created":1679693327422,"fileName":"Genbu","contents":"{\"components\":{\"schemas\":{\"Bucket\":{\"enum\":[\"ProfileImages\",\"VideoFiles\",\"UserFiles\",\"NotebookFiles\"],\"type\":\"string\"},\"CreateUserRequest\":{\"properties\":{\"email\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"password\":{\"format\":\"password\",\"type\":\"string\"}},\"required\":[\"name\",\"email\",\"password\"],\"type\":\"object\"},\"DeleteUserfileRequest\":{\"properties\":{\"path\":{\"type\":\"string\"}},\"required\":[\"path\"],\"type\":\"object\"},\"FinishUploadRequest\":{\"properties\":{\"lease_id\":{\"$ref\":\"#/components/schemas/LeaseID\"},\"parts\":{\"items\":{\"$ref\":\"#/components/schemas/Part\"},\"type\":\"array\"},\"upload_id\":{\"type\":\"string\"}},\"required\":[\"lease_id\",\"upload_id\",\"parts\"],\"type\":\"object\"},\"GetUrisRequest\":{\"properties\":{\"lease_id\":{\"$ref\":\"#/components/schemas/LeaseID\"}},\"required\":[\"lease_id\"],\"type\":\"object\"},\"GetUserfilesRequest\":{\"properties\":{\"base_path\":{\"type\":\"string\"}},\"required\":[\"base_path\"],\"type\":\"object\"},\"GetUserfilesResponse\":{\"properties\":{\"files\":{\"items\":{\"$ref\":\"#/components/schemas/Userfile\"},\"type\":\"array\"}},\"required\":[\"files\"],\"type\":\"object\"},\"LeaseID\":{\"format\":\"uuid\",\"type\":\"string\"},\"LoginRequest\":{\"properties\":{\"email\":{\"type\":\"string\"},\"password\":{\"format\":\"password\",\"type\":\"string\"}},\"required\":[\"email\",\"password\"],\"type\":\"object\"},\"Part\":{\"properties\":{\"e_tag\":{\"type\":\"string\"},\"part_number\":{\"format\":\"int32\",\"type\":\"integer\"}},\"required\":[\"e_tag\",\"part_number\"],\"type\":\"object\"},\"StartDownloadRequest\":{\"properties\":{\"bucket\":{\"$ref\":\"#/components/schemas/Bucket\"},\"file_path\":{\"type\":\"string\"}},\"required\":[\"file_path\",\"bucket\"],\"type\":\"object\"},\"UploadFileRequest\":{\"properties\":{\"name\":{\"type\":\"string\"},\"size\":{\"format\":\"int64\",\"minimum\":0.0,\"type\":\"integer\"}},\"required\":[\"name\",\"size\"],\"type\":\"object\"},\"UploadFileResponse\":{\"properties\":{\"lease_id\":{\"$ref\":\"#/components/schemas/LeaseID\"},\"upload_id\":{\"nullable\":true,\"type\":\"string\"},\"uris\":{\"items\":{\"type\":\"string\"},\"type\":\"array\"}},\"required\":[\"lease_id\",\"uris\"],\"type\":\"object\"},\"User\":{\"properties\":{\"avatar\":{\"allOf\":[{\"$ref\":\"#/components/schemas/UserAvatar\"}],\"nullable\":true},\"created_at\":{\"format\":\"date-time\",\"type\":\"string\"},\"email\":{\"type\":\"string\"},\"id\":{\"format\":\"uuid\",\"type\":\"string\"},\"name\":{\"type\":\"string\"}},\"required\":[\"id\",\"name\",\"email\",\"created_at\"],\"type\":\"object\"},\"UserAvatar\":{\"format\":\"uuid\",\"type\":\"string\"},\"UserResponse\":{\"properties\":{\"id\":{\"format\":\"uuid\",\"type\":\"string\"}},\"required\":[\"id\"],\"type\":\"object\"},\"Userfile\":{\"properties\":{\"is_folder\":{\"type\":\"boolean\"},\"last_modified\":{\"format\":\"date-time\",\"nullable\":true,\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"owner\":{\"format\":\"uuid\",\"type\":\"string\"},\"size\":{\"description\":\"Size is only None if is_folder is true\",\"format\":\"int64\",\"nullable\":true,\"type\":\"integer\"}},\"required\":[\"name\",\"owner\",\"is_folder\"],\"type\":\"object\"}},\"securitySchemes\":{\"token\":{\"in\":\"cookie\",\"name\":\"Token\",\"type\":\"apiKey\"}}},\"info\":{\"description\":\"\",\"license\":{\"name\":\"MIT OR Apache-2.0\"},\"title\":\"genbu-server\",\"version\":\"0.1.0\"},\"openapi\":\"3.0.3\",\"paths\":{\"/api/files/download\":{\"get\":{\"operationId\":\"start_download\",\"parameters\":[{\"in\":\"query\",\"name\":\"file_path\",\"required\":true,\"schema\":{\"type\":\"string\"}},{\"in\":\"query\",\"name\":\"bucket\",\"required\":true,\"schema\":{\"$ref\":\"#/components/schemas/Bucket\"}}],\"responses\":{\"307\":{\"description\":\"Redirect to file location\"}},\"tags\":[\"files\"]}},\"/api/files/upload\":{\"post\":{\"operationId\":\"upload_file_request\",\"requestBody\":{\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/UploadFileRequest\"}}},\"required\":true},\"responses\":{\"200\":{\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/UploadFileResponse\"}}},\"description\":\"Upload request is valid and accepted\"},\"400\":{\"description\":\"Upload request is invalid (i.e. negative size)\"},\"409\":{\"description\":\"Upload request is forbidden (i.e. file is too large)\"}},\"tags\":[\"files\"]}},\"/api/files/upload/finish\":{\"post\":{\"operationId\":\"finish_upload\",\"requestBody\":{\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/FinishUploadRequest\"}}},\"required\":true},\"responses\":{\"200\":{\"description\":\"File uploaded finished successfully\"},\"500\":{\"description\":\"An internal error occured while uploading\"}},\"tags\":[\"files\"]}},\"/api/filesystem\":{\"delete\":{\"operationId\":\"delete_userfile\",\"parameters\":[{\"in\":\"query\",\"name\":\"path\",\"required\":true,\"schema\":{\"type\":\"string\"}}],\"responses\":{\"200\":{\"description\":\"File deleted successfully\"}},\"tags\":[\"files\"]},\"get\":{\"operationId\":\"get_userfiles\",\"parameters\":[{\"in\":\"query\",\"name\":\"base_path\",\"required\":true,\"schema\":{\"type\":\"string\"}}],\"responses\":{\"200\":{\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/GetUserfilesResponse\"}}},\"description\":\"List all userfiles successfully\"}},\"tags\":[\"files\"]}},\"/api/login\":{\"post\":{\"operationId\":\"login\",\"requestBody\":{\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/LoginRequest\"}}},\"required\":true},\"responses\":{\"200\":{\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/UserResponse\"}}},\"description\":\"User registered successfully\",\"headers\":{\"Set-Cookie\":{\"description\":\"Sets the JWT Cookie\",\"schema\":{\"type\":\"string\"}}}},\"401\":{\"description\":\"Wrong credentials\"}},\"tags\":[\"users\"]}},\"/api/register\":{\"post\":{\"operationId\":\"register\",\"requestBody\":{\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/CreateUserRequest\"}}},\"required\":true},\"responses\":{\"200\":{\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/UserResponse\"}}},\"description\":\"User registered successfully\",\"headers\":{\"Set-Cookie\":{\"description\":\"Sets the JWT Cookie\",\"schema\":{\"type\":\"string\"}}}},\"409\":{\"description\":\"User data already exists in the database\"}},\"tags\":[\"users\"]}},\"/api/user\":{\"post\":{\"operationId\":\"create_user\",\"requestBody\":{\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/CreateUserRequest\"}}},\"required\":true},\"responses\":{\"201\":{\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/UserResponse\"}}},\"description\":\"User created successfully\"},\"409\":{\"description\":\"User data already exists in the database\"}},\"tags\":[\"users\"]}},\"/api/user/all\":{\"get\":{\"operationId\":\"get_users\",\"responses\":{\"200\":{\"content\":{\"application/json\":{\"schema\":{\"items\":{\"$ref\":\"#/components/schemas/User\"},\"type\":\"array\"}}},\"description\":\"List all users successfully\"}},\"tags\":[\"users\"]}},\"/api/user/{id}\":{\"delete\":{\"operationId\":\"delete_user\",\"parameters\":[{\"description\":\"User database id\",\"in\":\"path\",\"name\":\"id\",\"required\":true,\"schema\":{\"format\":\"uuid\",\"type\":\"string\"}},{\"in\":\"path\",\"name\":\"user_id\",\"required\":true,\"schema\":{\"format\":\"uuid\",\"type\":\"string\"}}],\"responses\":{\"200\":{\"description\":\"User deleted successfully\"},\"404\":{\"description\":\"No user found\"}},\"tags\":[\"users\"]},\"get\":{\"operationId\":\"get_user\",\"parameters\":[{\"description\":\"User database id\",\"in\":\"path\",\"name\":\"id\",\"required\":true,\"schema\":{\"format\":\"uuid\",\"type\":\"string\"}},{\"in\":\"path\",\"name\":\"user_id\",\"required\":true,\"schema\":{\"format\":\"uuid\",\"type\":\"string\"}}],\"responses\":{\"200\":{\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/User\"}}},\"description\":\"User found successfully\"}},\"tags\":[\"users\"]}}},\"security\":[{\"token\":[]}]}","contentType":"yaml","_type":"api_spec"},{"_id":"env_env_034f3b86f48226ebbfaef5f30e7ff57f57176f0f_sub__9c17e047","parentId":"env_034f3b86f48226ebbfaef5f30e7ff57f57176f0f","modified":1679694330937,"created":1679693334453,"name":"OpenAPI env example.com","data":{"scheme":"http","base_path":"/api","host":"localhost:8080","token":"{% cookie _.base_url, 'Token' %}"},"dataPropertyOrder":{"&":["scheme","base_path","host","token"]},"color":null,"isPrivate":false,"metaSortKey":1679693334453,"_type":"environment"}]}